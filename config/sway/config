### Variables
set $left h
set $down j
set $up k
set $right l
set $term alacritty
set $menu wofi -I -i -a --show drun
set $gnome-schema org.gnome.desktop.interface
set $laptop eDP-1

### theme
exec_always {
    gsettings set $gnome-schema gtk-theme 'adwaita'
    gsettings set $gnome-schema icon-theme 'Papirus'
    gsettings set $gnome-schema cursor-theme 'Breeze_cursors'
    gsettings set $gnome-schema font-name 'Hack Nerd Font'
}

gaps {
    inner 0
    outer 0
}

default_border pixel 2
titlebar_border_thickness 0
titlebar_padding 0 0


client.focused #ffffff #92baff #92baff #92baff
client.focused_inactive #434343 #434343 #434343 #434343
client.unfocused #434343 #434343 #434343 #434343

### startup

exec {
    ~/.config/sway/powermenu
    ~/.config/sway/grim
    nm-applet --indicator
    udiskie --no-automount --no-notify --tray
}

### Output configuration

output {
    * bg ~/Pictures/wallpapers/wallpaper.jpg stretch
#    HDMI-A-1 bg ~/Pictures/wallpapers/w1.jpg stretch
#    DP-1 bg ~/Pictures/wallpapers/w2.jpg stretch
    HDMI-A-1 res 1920x1080 pos 0,0
    DP-1 res 1920x1080 pos 1920,0
    eDP-1 res 1366x768 pos 3840,0
}

workspace 1 output HDMI-A-1 eDP-1
workspace 2 output HDMI-A-1 eDP-1
workspace 3 output DP-1 eDP-1
workspace 4 output DP-1 eDP-1

bindswitch --reload --locked lid:on output $laptop disable
bindswitch --reload --locked lid:off output $laptop enable

exec_always ~/.config/sway/clamshell.sh

### Idle configuration
 exec swayidle -w \
          timeout 300 'swaylock -f -i ~/Pictures/wallpapers/wallpaper.jpg --ring-color 000000 -r -K --key-hl-color 92baff --separator-color 92baff' \
          before-sleep 'swaylock -f -i ~/Pictures/wallpapers/wallpaper.jpg --ring-color 000000 -r -K --key-hl-color 92baff --separator-color 92baff'

### Input configuration
   input "type:keyboard" {
       xkb_layout us,ara
       xkb_options ctrl:nocaps,grp:win_space_toggle
   }

### Key bindings
floating_modifier Mod1 normal
mode "general" {
bindsym --to-code {
    # Basics:
    Return exec "$term & swaymsg mode 'default'"
    Ctrl+x exec "$menu & swaymsg mode 'default'"
    Ctrl+r exec "swaymsg reload & swaymsg mode 'default'"
    # Workspaces:
    # Switch to workspace
    Ctrl+a exec "swaymsg workspace number 1 & swaymsg mode 'default'"
    Ctrl+s exec "swaymsg workspace number 2 & swaymsg mode 'default'"
    Ctrl+d exec "swaymsg workspace number 3 & swaymsg mode 'default'"
    Ctrl+f exec "swaymsg workspace number 4 & swaymsg mode 'default'"
    #window movements
    0 exec "swaymsg kill & swaymsg mode 'default'"
    5 exec "swaymsg floating toggle && swaymsg mode 'default'"
    t exec "swaymsg focus mode_toggle && swaymsg mode 'default'"
    3 exec "swaymsg splith && swaymsg mode 'default'"
    2 exec "swaymsg splitv && swaymsg mode 'default'"
    #move focus to window
    $left focus left
    $down focus down
    $up focus up
    $right focus right
    #move the focused window
    Ctrl+$left move left
    Ctrl+$down move down
    Ctrl+$up move up
    Ctrl+$right move right
    # Move focused container to workspace
    a exec "swaymsg move container to workspace number 1 && swaymsg mode 'default'"
    s exec "swaymsg move container to workspace number 2 && swaymsg mode 'default'"
    d exec "swaymsg move container to workspace number 3 && swaymsg mode 'default'"
    f exec "swaymsg move container to workspace number 4 && swaymsg mode 'default'"
    #go into other modes
    r mode "resize"
    c mode "control"
    }
}

mode "control" {
    bindsym --to-code {
    j exec light -U 5
    k exec light -A 5
    h exec pamixer -d 10
    l exec pamixer -i 10
    #exit this mode
    Return mode "default"
    Ctrl+g mode "default"	
    }
}

### binding modes
mode "resize" {
    bindsym --to-code {
    $left resize shrink width 10px
    $down resize grow height 10px
    $up resize shrink height 10px
    $right resize grow width 10px
    #exit this mode
    Return mode "default"
    Ctrl+g mode "default"
    }
}

# activate modes
bindsym --to-code { 
    Ctrl+z mode "general"
}

# Status Bar:
bar {
    swaybar_command waybar
}

include /etc/sway/config.d/*
